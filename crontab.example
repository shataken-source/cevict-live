# SmokersRights Daily Bot Cron Jobs
# 
# This file contains example cron job configurations for running the daily bot
# Copy this to your server's crontab and modify paths as needed
#
# To edit crontab: crontab -e
# To view current crontab: crontab -l
#
# Format: MIN HOUR DAY-OF-MONTH MONTH DAY-OF-WEEK COMMAND

# Run the daily bot every day at 2:00 AM (server time)
# This is the optimal time as it's typically low traffic period
0 2 * * * cd /path/to/your/app && node scripts/runBot.js >> /var/log/smokersrights-bot.log 2>&1

# Run bot status check every 6 hours
0 */6 * * * cd /path/to/your/app && node scripts/runBot.js status >> /var/log/smokersrights-bot-status.log 2>&1

# Weekly digest email every Sunday at 9:00 AM
0 9 * * 0 cd /path/to/your/app && curl -X POST http://localhost:3000/api/bot/weekly-digest -H "Authorization: Bearer your-secret-bot-key" >> /var/log/smokersrights-digest.log 2>&1

# Monthly cleanup on the 1st of each month at 3:00 AM
0 3 1 * * cd /path/to/your/app && curl -X POST http://localhost:3000/api/bot/cleanup -H "Authorization: Bearer your-secret-bot-key" >> /var/log/smokersrights-cleanup.log 2>&1

# Example for development/testing (runs every 5 minutes)
# */5 * * * * cd /path/to/your/app && node scripts/runBot.js >> /var/log/smokersrights-bot-dev.log 2>&1

# Environment variables (set these before running the bot)
# BOT_URL=http://localhost:3000/api/bot/run
# BOT_API_KEY=your-secret-bot-key
# NODE_ENV=production

# Log rotation (add to /etc/logrotate.d/smokersrights-bot)
# /var/log/smokersrights-bot.log {
#     daily
#     missingok
#     rotate 30
#     compress
#     delaycompress
#     notifempty
#     create 644 www-data www-data
#     postrotate
#         systemctl reload rsyslog >/dev/null 2>&1 || true
#     endscript
# }
